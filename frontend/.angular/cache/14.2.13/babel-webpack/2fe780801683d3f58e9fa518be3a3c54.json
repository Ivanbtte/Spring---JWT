{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/articulo/articulo.service\";\nimport * as i2 from \"src/app/services/autor/autor.service\";\nimport * as i3 from \"src/app/services/instituto/instituto.service\";\nimport * as i4 from \"src/app/services/catalogo/catalogo.service\";\nimport * as i5 from \"src/app/services/investigador/investigador.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"src/app/services/auth/login.service\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"ngx-pagination\";\nimport * as i11 from \"../../../shared/nav/nav.component\";\nimport * as i12 from \"../../../sidebar/sidebar/sidebar.component\";\n\nfunction MisPublicacionesComponent_div_14_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const instituto_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", instituto_r7.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", instituto_r7.nombre, \" \");\n  }\n}\n\nfunction MisPublicacionesComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"label\", 19);\n    i0.ɵɵtext(2, \"Instituto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_div_14_Template_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.selectedInstituto = $event);\n    });\n    i0.ɵɵelementStart(4, \"option\", 21);\n    i0.ɵɵtext(5, \"Seleccione un instituto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, MisPublicacionesComponent_div_14_option_6_Template, 2, 2, \"option\", 22);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedInstituto);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.institutos);\n  }\n}\n\nfunction MisPublicacionesComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"label\", 24);\n    i0.ɵɵtext(2, \"Estado de la publicaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_div_21_Template_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.selectedEstado = $event);\n    })(\"change\", function MisPublicacionesComponent_div_21_Template_select_change_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onEstadoChange());\n    });\n    i0.ɵɵelementStart(4, \"option\", 23);\n    i0.ɵɵtext(5, \"Recientes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"option\", 23);\n    i0.ɵɵtext(7, \"Rechazados\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"option\", 23);\n    i0.ɵɵtext(9, \"Sin Revisar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"option\", 23);\n    i0.ɵɵtext(11, \"Aceptados\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedEstado);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 4);\n  }\n}\n\nfunction MisPublicacionesComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 5)(2, \"label\", 27);\n    i0.ɵɵtext(3, \"Fecha de Inicio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_div_34_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.startDate = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"label\", 29);\n    i0.ɵɵtext(7, \"Fecha Final\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_div_34_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.endDate = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.startDate);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.endDate);\n  }\n}\n\nfunction MisPublicacionesComponent_div_35_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const anio_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", anio_r17);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(anio_r17);\n  }\n}\n\nfunction MisPublicacionesComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 5)(2, \"label\", 31);\n    i0.ɵɵtext(3, \"Trimestre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_div_35_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.selectedTrimestre = $event);\n    })(\"change\", function MisPublicacionesComponent_div_35_Template_select_change_4_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.onTrimestreChange());\n    });\n    i0.ɵɵelementStart(5, \"option\", 23);\n    i0.ɵɵtext(6, \"Trimestre 1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"option\", 23);\n    i0.ɵɵtext(8, \"Trimestre 2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 23);\n    i0.ɵɵtext(10, \"Trimestre 3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 23);\n    i0.ɵɵtext(12, \"Trimestre 4\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 5)(14, \"label\", 33);\n    i0.ɵɵtext(15, \"Seleccionar A\\u00F1o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"select\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_div_35_Template_select_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.selectedAnio = $event);\n    })(\"change\", function MisPublicacionesComponent_div_35_Template_select_change_16_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.onTrimestreChange());\n    });\n    i0.ɵɵtemplate(17, MisPublicacionesComponent_div_35_option_17_Template, 2, 2, \"option\", 22);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.selectedTrimestre);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 4);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.selectedAnio);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.listaAnios);\n  }\n}\n\nfunction MisPublicacionesComponent_div_43_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tipo_publicacion_r24 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", tipo_publicacion_r24.id_publicacion_tipo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(tipo_publicacion_r24.descripcion_publicacion_tipo);\n  }\n}\n\nfunction MisPublicacionesComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"label\", 35);\n    i0.ɵɵtext(2, \"Tipo de publicaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 36);\n    i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_div_43_Template_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.selectedTipoPublicacion = $event);\n    });\n    i0.ɵɵelementStart(4, \"option\", 21);\n    i0.ɵɵtext(5, \"Seleccione un tipo de publicaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, MisPublicacionesComponent_div_43_option_6_Template, 2, 2, \"option\", 22);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.selectedTipoPublicacion);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.tipo_publicaciones);\n  }\n}\n\nfunction MisPublicacionesComponent_tr_61_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function MisPublicacionesComponent_tr_61_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const articulo_r27 = restoredCtx.$implicit;\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.editarArticulo(articulo_r27));\n    });\n    i0.ɵɵelement(11, \"i\", 38);\n    i0.ɵɵtext(12, \" Revisar \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const articulo_r27 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(articulo_r27.nombre_articulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.formatDate(articulo_r27.fecha_publicacion));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(articulo_r27.observaciones_directores);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(articulo_r27.observaciones_gestion);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nconst _c1 = function (a1) {\n  return {\n    itemsPerPage: 10,\n    currentPage: a1\n  };\n};\n\nexport let MisPublicacionesComponent = /*#__PURE__*/(() => {\n  class MisPublicacionesComponent {\n    constructor(articuloService, autorService, institutoService, catalogoService, investigadorService, router, loginService) {\n      this.articuloService = articuloService;\n      this.autorService = autorService;\n      this.institutoService = institutoService;\n      this.catalogoService = catalogoService;\n      this.investigadorService = investigadorService;\n      this.router = router;\n      this.loginService = loginService;\n      this.p = 1; // Página inicial\n\n      this.filtrarPorInstituto = false;\n      this.filtrarPorPublicacion = false;\n      this.filtrarPorProfesor = false;\n      this.filtrarPorFechas = false;\n      this.filtrarPorTipo = false;\n      this.filtrarPorEstado = false;\n      this.selectedEstado = null;\n      this.selectedInstituto = null;\n      this.selectedProfesor = null;\n      this.selectedTipoPublicacion = null;\n      this.selectedInstituteForProfessor = null;\n      this.publicacion = [];\n      this.tipo_publicaciones = []; //En uso\n\n      this.profesores = []; //En uso\n\n      this.publicaciones = [];\n      this.startDate = '';\n      this.endDate = '';\n      this.articulos = []; //En uso\n\n      this.institutos = []; //En uso\n\n      this.articulosFiltrados = [];\n      this.investigadores = [];\n      this.selectedInvestigador = [];\n      this.profesoresFiltrados = []; //Variables extras:\n\n      this.filtrarPorTrimestre = false;\n      this.trimestres = [1, 2, 3, 4];\n      this.listaAnios = Array.from({\n        length: new Date().getFullYear() - 2000 + 1\n      }, (v, k) => 2000 + k);\n      this.selectedTrimestre = null;\n      this.selectedAnio = null;\n    }\n\n    ngOnInit() {\n      this.articuloService.getList().subscribe(data => {\n        this.articulos = data;\n      }, error => {\n        console.error('Error al obtener los artículos:', error);\n      });\n      this.institutoService.getList().subscribe(data => {\n        this.institutos = data;\n      }, error => {\n        console.error('Error al obtener los institutos:', error);\n      });\n      this.autorService.getList().subscribe(data => {\n        this.profesores = data;\n      }, error => {\n        console.error('Error al obtener los profesores:', error);\n      });\n      this.catalogoService.getTiposPublicacion().subscribe(data => {\n        this.tipo_publicaciones = data;\n      }, error => {\n        console.error('Error al obtener los tipos de publicaciones', error);\n      });\n      this.searchPublications();\n    }\n\n    searchPublications() {\n      // Obtén los datos del usuario desde el LoginService\n      this.userRole = this.loginService.getUserRole();\n      this.userId = Number(this.loginService.getId());\n      this.userInstituto = this.loginService.getInstituto();\n\n      if (this.userRole === 'INVESTIGADOR' || this.userRole === 'COORDINADOR') {\n        const searchCriteria = {\n          institutoId: this.filtrarPorInstituto ? this.selectedInstituto || null : null,\n          autorId: this.userId,\n          fechaInicio: this.filtrarPorFechas ? this.startDate || null : null || this.filtrarPorTrimestre ? this.startDate || null : null,\n          fechaFin: this.filtrarPorFechas ? this.endDate || null : null || this.filtrarPorTrimestre ? this.endDate || null : null,\n          tipo: this.filtrarPorTipo ? this.selectedTipoPublicacion || null : null,\n          estatus: this.filtrarPorEstado ? this.selectedEstado || null : null\n        };\n        this.articuloService.searchPublications(searchCriteria).subscribe(data => {\n          this.articulosFiltrados = this.convertirDatos(data); // Ordenar los artículos por nombre_articulo\n\n          this.articulosFiltrados = this.articulosFiltrados.sort((a, b) => {\n            const nombreA = a.nombre_articulo?.toLowerCase() ?? '';\n            const nombreB = b.nombre_articulo?.toLowerCase() ?? '';\n            return nombreA.localeCompare(nombreB);\n          });\n        }, error => {\n          console.error('Error al buscar publicaciones:', error);\n        });\n      } else {\n        const searchCriteria = {\n          institutoId: this.filtrarPorInstituto ? this.selectedInstituto || null : null,\n          autorId: this.filtrarPorProfesor ? this.selectedProfesor || null : null,\n          fechaInicio: this.filtrarPorFechas ? this.startDate || null : null || this.filtrarPorTrimestre ? this.startDate || null : null,\n          fechaFin: this.filtrarPorFechas ? this.endDate || null : null || this.filtrarPorTrimestre ? this.endDate || null : null,\n          tipo: this.filtrarPorTipo ? this.selectedTipoPublicacion || null : null\n        };\n        this.articuloService.searchPublications(searchCriteria).subscribe(data => {\n          this.articulosFiltrados = this.convertirDatos(data); // Ordenar los artículos por nombre_articulo\n\n          this.articulosFiltrados = this.articulosFiltrados.sort((a, b) => {\n            const nombreA = a.nombre_articulo?.toLowerCase() ?? '';\n            const nombreB = b.nombre_articulo?.toLowerCase() ?? '';\n            return nombreA.localeCompare(nombreB);\n          });\n        }, error => {\n          console.error('Error al buscar publicaciones:', error);\n        });\n      }\n    }\n\n    convertirDatos(data) {\n      return data.map(arr => {\n        return {\n          propiedad1: arr[0],\n          propiedad2: arr[1],\n          id_articulo: arr[6],\n          aceptado_director: arr[22],\n          aceptado_gestion: arr[22],\n          titulo_revista: arr[19],\n          fecha_publicacion: arr[5],\n          nombre_articulo: arr[15],\n          observaciones_directores: arr[17],\n          observaciones_gestion: arr[18] // Sigue mapeando todas las propiedades necesarias\n\n        };\n      });\n    }\n\n    trackById(index, articulo) {\n      return articulo.id;\n    }\n\n    editarArticulo(articulo) {\n      this.router.navigate(['/validar-publicacion', articulo.id_articulo]);\n    }\n\n    darDeBajaArticulo(articulo) {\n      console.info('Dar de baja artículo:', articulo);\n    }\n\n    formatDate(dateString) {\n      const date = new Date(dateString);\n\n      if (isNaN(date.getTime())) {\n        return 'Fecha inválida';\n      }\n\n      const day = date.getDate().toString().padStart(2, '0');\n      const month = date.toLocaleString('es-ES', {\n        month: 'long'\n      });\n      const year = date.getFullYear();\n      return `${day}-${month}-${year}`;\n    }\n\n    onInstituteChange() {\n      this.getInvestigadorByInstitute();\n    }\n\n    onInstituteForProfessorChange() {\n      this.getInvestigadorByInstitute();\n    }\n\n    getInvestigadorByInstitute() {\n      if (this.selectedInstituteForProfessor) {\n        this.investigadorService.getInvestigadorByInstitute(this.selectedInstituteForProfessor).subscribe(data => {\n          this.profesores = data;\n          this.profesoresFiltrados = this.profesores;\n        });\n      } else {\n        this.profesores = [];\n        this.profesoresFiltrados = [];\n      }\n    }\n\n    onFilterChange() {\n      if (this.filtrarPorInstituto && this.selectedInstituto) {\n        this.investigadorService.getInvestigadorByInstitute(this.selectedInstituto).subscribe(data => {\n          this.profesoresFiltrados = data;\n        }, error => console.error('Error al obtener los investigadores por instituto:', error));\n      } else {\n        this.investigadorService.getInvestigadores().subscribe(data => {\n          this.profesoresFiltrados = data;\n        }, error => console.error('Error al obtener los investigadores:', error));\n      }\n    }\n\n    onCheckboxChange(filter) {\n      switch (filter) {\n        case 'instituto':\n          if (!this.filtrarPorInstituto) {\n            this.selectedInstituto = null;\n          }\n\n          break;\n\n        case 'profesor':\n          if (!this.filtrarPorProfesor) {\n            this.selectedInstituteForProfessor = null;\n            this.selectedProfesor = null;\n            this.profesoresFiltrados = [];\n          }\n\n          break;\n\n        case 'fechas':\n          if (this.filtrarPorFechas) {\n            this.filtrarPorTrimestre = false;\n            this.selectedTrimestre = null;\n            this.selectedAnio = null;\n          }\n\n          break;\n\n        case 'trimestre':\n          if (this.filtrarPorTrimestre) {\n            this.filtrarPorFechas = false;\n          }\n\n          break;\n\n        case 'tipo':\n          if (!this.filtrarPorTipo) {\n            this.selectedTipoPublicacion = null;\n          }\n\n          break;\n      }\n    }\n\n    onTrimestreChange() {\n      // Verifica que ambos valores no sean nulos o undefined\n      if (this.selectedTrimestre !== null && this.selectedAnio !== null) {\n        // Asegúrate de que `selectedTrimestre` y `selectedAnio` son números\n        const trimestre = Number(this.selectedTrimestre);\n        const anio = Number(this.selectedAnio);\n        let startDate;\n        let endDate;\n\n        switch (trimestre) {\n          case 1:\n            startDate = `${anio}-01-01`;\n            endDate = `${anio}-03-31`;\n            break;\n\n          case 2:\n            startDate = `${anio}-04-01`;\n            endDate = `${anio}-06-30`;\n            break;\n\n          case 3:\n            startDate = `${anio}-07-01`;\n            endDate = `${anio}-09-30`;\n            break;\n\n          case 4:\n            startDate = `${anio}-10-01`;\n            endDate = `${anio}-12-31`;\n            break;\n\n          default:\n            console.error(\"Trimestre no válido:\", trimestre);\n            return;\n        } // Asigna las fechas a las propiedades correspondientes\n\n\n        this.startDate = startDate;\n        this.endDate = endDate;\n      } else {\n        console.warn(\"No se seleccionaron ambos valores (trimestre o año).\");\n      }\n    }\n\n    onEstadoChange() {\n      // Lógica para manejar el cambio de estado.\n      console.log('Estado cambiado:', this.selectedEstado);\n    }\n\n  }\n\n  MisPublicacionesComponent.ɵfac = function MisPublicacionesComponent_Factory(t) {\n    return new (t || MisPublicacionesComponent)(i0.ɵɵdirectiveInject(i1.ArticuloService), i0.ɵɵdirectiveInject(i2.AutorService), i0.ɵɵdirectiveInject(i3.InstitutoService), i0.ɵɵdirectiveInject(i4.CatalogoService), i0.ɵɵdirectiveInject(i5.InvestigadorService), i0.ɵɵdirectiveInject(i6.Router), i0.ɵɵdirectiveInject(i7.LoginService));\n  };\n\n  MisPublicacionesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MisPublicacionesComponent,\n    selectors: [[\"app-mis-publicaciones\"]],\n    decls: 64,\n    vars: 26,\n    consts: [[1, \"container\"], [1, \"card-container\"], [1, \"card\", \"mt-4\", \"altura\"], [1, \"card-body\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\", \"change\"], [1, \"fa\", \"fa-university\"], [\"class\", \"form-group\", 4, \"ngIf\"], [1, \"fa\", \"fa-archive\"], [1, \"form-group\", \"form-group-horizontal\"], [1, \"fa\", \"fa-calendar\"], [\"class\", \"form-group-container-inline\", 4, \"ngIf\"], [1, \"fa\", \"fa-file\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-search\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [\"previousLabel\", \"Anterior\", \"nextLabel\", \"Siguiente\", 3, \"pageChange\"], [\"for\", \"instituto\"], [\"id\", \"instituto\", \"name\", \"instituto\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"for\", \"estado\"], [\"id\", \"estado\", \"name\", \"estado\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [1, \"form-group-container-inline\"], [\"for\", \"startDate\"], [\"type\", \"date\", \"id\", \"start\", \"name\", \"start\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"endDate\"], [\"type\", \"date\", \"id\", \"end\", \"name\", \"end\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"trimestre\"], [\"id\", \"trimestre\", \"name\", \"trimestre\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"for\", \"anio\"], [\"id\", \"anio\", \"name\", \"anio\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"for\", \"publicacion\"], [\"id\", \"tipo_publicacion\", \"name\", \"publicacion\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"fa\", \"fa-edit\"]],\n    template: function MisPublicacionesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-nav\")(1, \"app-sidebar\");\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"h3\");\n        i0.ɵɵtext(4, \"Consultar mis publicaciones\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 1)(6, \"div\", 2)(7, \"div\", 3)(8, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function MisPublicacionesComponent_Template_form_ngSubmit_8_listener() {\n          return ctx.searchPublications();\n        });\n        i0.ɵɵelementStart(9, \"div\", 5)(10, \"label\")(11, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.filtrarPorInstituto = $event;\n        })(\"change\", function MisPublicacionesComponent_Template_input_change_11_listener() {\n          return ctx.onCheckboxChange(\"instituto\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(12, \" Filtrar por instituto \");\n        i0.ɵɵelement(13, \"i\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(14, MisPublicacionesComponent_div_14_Template, 7, 2, \"div\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 3)(16, \"div\", 5)(17, \"label\")(18, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.filtrarPorEstado = $event;\n        })(\"change\", function MisPublicacionesComponent_Template_input_change_18_listener() {\n          return ctx.onCheckboxChange(\"estado\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(19, \" Filtrar por estado de publicaci\\u00F3n \");\n        i0.ɵɵelement(20, \"i\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(21, MisPublicacionesComponent_div_21_Template, 12, 5, \"div\", 8);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(22, \"div\", 2)(23, \"div\", 3)(24, \"form\")(25, \"div\", 10)(26, \"label\")(27, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_Template_input_ngModelChange_27_listener($event) {\n          return ctx.filtrarPorFechas = $event;\n        })(\"change\", function MisPublicacionesComponent_Template_input_change_27_listener() {\n          return ctx.onCheckboxChange(\"fechas\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(28, \" Filtrar por fechas \");\n        i0.ɵɵelement(29, \"i\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"label\")(31, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_Template_input_ngModelChange_31_listener($event) {\n          return ctx.filtrarPorTrimestre = $event;\n        })(\"change\", function MisPublicacionesComponent_Template_input_change_31_listener() {\n          return ctx.onCheckboxChange(\"trimestre\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(32, \" Filtrar por trimestre \");\n        i0.ɵɵelement(33, \"i\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(34, MisPublicacionesComponent_div_34_Template, 9, 2, \"div\", 12);\n        i0.ɵɵtemplate(35, MisPublicacionesComponent_div_35_Template, 18, 7, \"div\", 12);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(36, \"div\", 3)(37, \"form\")(38, \"div\", 5)(39, \"label\")(40, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function MisPublicacionesComponent_Template_input_ngModelChange_40_listener($event) {\n          return ctx.filtrarPorTipo = $event;\n        })(\"change\", function MisPublicacionesComponent_Template_input_change_40_listener() {\n          return ctx.onCheckboxChange(\"tipo\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(41, \" Filtrar por tipo de publicaci\\u00F3n \");\n        i0.ɵɵelement(42, \"i\", 13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(43, MisPublicacionesComponent_div_43_Template, 7, 2, \"div\", 8);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(44, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function MisPublicacionesComponent_Template_button_click_44_listener() {\n          return ctx.searchPublications();\n        });\n        i0.ɵɵelement(45, \"i\", 15);\n        i0.ɵɵtext(46, \" Buscar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"table\", 16)(48, \"thead\")(49, \"tr\")(50, \"th\");\n        i0.ɵɵtext(51, \"Titulo de publicacion\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"th\");\n        i0.ɵɵtext(53, \"Fecha de publicaci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"th\");\n        i0.ɵɵtext(55, \"Observaciones Director\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"th\");\n        i0.ɵɵtext(57, \"Observaciones Gesti\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"th\");\n        i0.ɵɵtext(59, \"Acciones\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(60, \"tbody\");\n        i0.ɵɵtemplate(61, MisPublicacionesComponent_tr_61_Template, 13, 4, \"tr\", 17);\n        i0.ɵɵpipe(62, \"paginate\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(63, \"pagination-controls\", 18);\n        i0.ɵɵlistener(\"pageChange\", function MisPublicacionesComponent_Template_pagination_controls_pageChange_63_listener($event) {\n          return ctx.p = $event;\n        });\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngModel\", ctx.filtrarPorInstituto)(\"ngModelOptions\", i0.ɵɵpureFunction0(19, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.filtrarPorInstituto);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.filtrarPorEstado)(\"ngModelOptions\", i0.ɵɵpureFunction0(20, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.filtrarPorEstado);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.filtrarPorFechas)(\"ngModelOptions\", i0.ɵɵpureFunction0(21, _c0));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.filtrarPorTrimestre)(\"ngModelOptions\", i0.ɵɵpureFunction0(22, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.filtrarPorFechas);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.filtrarPorTrimestre);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.filtrarPorTipo)(\"ngModelOptions\", i0.ɵɵpureFunction0(23, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.filtrarPorTipo);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(62, 16, ctx.articulosFiltrados, i0.ɵɵpureFunction1(24, _c1, ctx.p)));\n      }\n    },\n    dependencies: [i8.NgForOf, i8.NgIf, i9.ɵNgNoValidate, i9.NgSelectOption, i9.ɵNgSelectMultipleOption, i9.DefaultValueAccessor, i9.CheckboxControlValueAccessor, i9.SelectControlValueAccessor, i9.NgControlStatus, i9.NgControlStatusGroup, i9.NgModel, i9.NgForm, i10.PaginationControlsComponent, i11.NavComponent, i12.SidebarComponent, i10.PaginatePipe],\n    styles: [\".container[_ngcontent-%COMP%]{margin:50px auto;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a}.card[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff;border-radius:10px;box-shadow:0 2px 8px #0000001a;padding:20px;flex:1 1 48%;box-sizing:border-box}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;gap:20px}.form-group-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;line-height:1.5}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin:0;vertical-align:middle;position:relative}input[type=checkbox][_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:18px;-webkit-user-select:none;user-select:none}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#007bff}input[type=checkbox][_ngcontent-%COMP%]:checked:after{color:#fff;font-size:16px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ced4da;border-radius:5px;background-color:#f1f1f1;font-size:14px;color:#000}select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}label[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#00000095;margin-bottom:5px}.card-body[_ngcontent-%COMP%]{background-color:#fdf3f3;border:1px solid #ddd;border-radius:5px;padding:15px;margin-bottom:20px}button.btn[_ngcontent-%COMP%]{margin-right:10px}button.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#5c8bbe}button.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}button.btn-success[_ngcontent-%COMP%]:hover{background-color:#4fc569}@media (min-width: 768px){.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.card[_ngcontent-%COMP%]{flex:1 1 48%}}@media (max-width: 767px){.card[_ngcontent-%COMP%]{flex:1 1 100%}}.form-group-horizontal[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.form-group-container-inline[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;align-items:center}.form-group-container-inline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-group-container-inline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px}.form-group-container-inline[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .form-group-container-inline[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}.form-group-container-inline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1;min-width:200px}\"]\n  });\n  return MisPublicacionesComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}