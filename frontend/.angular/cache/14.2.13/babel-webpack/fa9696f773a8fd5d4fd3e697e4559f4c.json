{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/registrarusuario/registrarusuario.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../shared/nav/nav.component\";\nimport * as i6 from \"../../../sidebar/sidebar/sidebar.component\";\n\nfunction CrearUsuarioComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" El correo electr\\u00F3nico es requerido. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" El formato del correo electr\\u00F3nico no es v\\u00E1lido. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_22_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const instituto_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", instituto_r14.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(instituto_r14.nombre);\n  }\n}\n\nfunction CrearUsuarioComponent_div_22_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" El instituto es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_22_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" El primer nombre es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_22_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" El apellido paterno es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 3)(2, \"label\", 23);\n    i0.ɵɵtext(3, \"Instituto de afiliaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 24);\n    i0.ɵɵtemplate(5, CrearUsuarioComponent_div_22_option_5_Template, 2, 2, \"option\", 25);\n    i0.ɵɵtemplate(6, CrearUsuarioComponent_div_22_div_6_Template, 2, 0, \"div\", 6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 3)(8, \"label\", 26);\n    i0.ɵɵtext(9, \"Primer nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 27);\n    i0.ɵɵlistener(\"keypress\", function CrearUsuarioComponent_div_22_Template_input_keypress_10_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.onKeyPress($event, \"nombre1\"));\n    })(\"input\", function CrearUsuarioComponent_div_22_Template_input_input_10_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.onInput($event, \"nombre1\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, CrearUsuarioComponent_div_22_div_11_Template, 2, 0, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 3)(13, \"label\", 28);\n    i0.ɵɵtext(14, \"Segundo nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 29);\n    i0.ɵɵlistener(\"keypress\", function CrearUsuarioComponent_div_22_Template_input_keypress_15_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.onKeyPress($event, \"nombre2\"));\n    })(\"input\", function CrearUsuarioComponent_div_22_Template_input_input_15_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.onInput($event, \"nombre2\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 3)(17, \"label\", 30);\n    i0.ɵɵtext(18, \"Apellido Paterno\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"input\", 31);\n    i0.ɵɵlistener(\"keypress\", function CrearUsuarioComponent_div_22_Template_input_keypress_19_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.onKeyPress($event, \"apellidoPaterno\"));\n    })(\"input\", function CrearUsuarioComponent_div_22_Template_input_input_19_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.onInput($event, \"apellidoPaterno\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, CrearUsuarioComponent_div_22_div_20_Template, 2, 0, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 3)(22, \"label\", 32);\n    i0.ɵɵtext(23, \"Apellido Materno\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"input\", 33);\n    i0.ɵɵlistener(\"keypress\", function CrearUsuarioComponent_div_22_Template_input_keypress_24_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.onKeyPress($event, \"apellidoMaterno\"));\n    })(\"input\", function CrearUsuarioComponent_div_22_Template_input_input_24_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.onInput($event, \"apellidoMaterno\"));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.institutos);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx_r2.userForm.get(\"instituto\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]) && ((tmp_1_0 = ctx_r2.userForm.get(\"instituto\")) == null ? null : tmp_1_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r2.userForm.get(\"nombre1\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"required\"]) && ((tmp_2_0 = ctx_r2.userForm.get(\"nombre1\")) == null ? null : tmp_2_0.touched));\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r2.userForm.get(\"apellidoPaterno\")) == null ? null : tmp_3_0.errors == null ? null : tmp_3_0.errors[\"required\"]) && ((tmp_3_0 = ctx_r2.userForm.get(\"apellidoPaterno\")) == null ? null : tmp_3_0.touched));\n  }\n}\n\nfunction CrearUsuarioComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a es requerida. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a debe tener al menos 8 caracteres. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a debe contener al menos una letra may\\u00FAscula. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a debe contener al menos un n\\u00FAmero. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a debe contener al menos un s\\u00EDmbolo especial. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" La confirmaci\\u00F3n de la contrase\\u00F1a es requerida. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearUsuarioComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Las contrase\\u00F1as no coinciden. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let CrearUsuarioComponent = /*#__PURE__*/(() => {\n  class CrearUsuarioComponent {\n    constructor(fb, registrarusuarioService, router) {\n      this.fb = fb;\n      this.registrarusuarioService = registrarusuarioService;\n      this.router = router;\n      this.institutos = [];\n      this.passwordFieldType = 'password';\n      this.passwordToggleIcon = 'fa fa-eye';\n      this.userForm = this.fb.group({\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(8), this.passwordValidator]],\n        confirmPassword: ['', [Validators.required]],\n        role: ['', [Validators.required]],\n        numeroEmpleado: [''],\n        instituto: [''],\n        nombre1: [''],\n        nombre2: [''],\n        apellidoPaterno: [''],\n        apellidoMaterno: ['']\n      });\n      this.userForm.setValidators(this.passwordMatchValidator);\n      this.userForm.get('role')?.valueChanges.subscribe(newRole => {\n        this.updateAdditionalFields(newRole);\n      });\n    }\n\n    ngOnInit() {\n      // Obtener la lista de institutos\n      this.registrarusuarioService.getInstitutos().subscribe(data => {\n        this.institutos = data;\n      }, error => {\n        console.error('Error al obtener la lista de institutos', error);\n      });\n    }\n\n    passwordValidator(control) {\n      const value = control.value;\n\n      if (!value) {\n        return null;\n      }\n\n      if (!/[A-Z]/.test(value)) {\n        return {\n          uppercase: true\n        };\n      }\n\n      if (!/[0-9]/.test(value)) {\n        return {\n          number: true\n        };\n      }\n\n      if (!/[^A-Za-z0-9]/.test(value)) {\n        return {\n          special: true\n        };\n      }\n\n      return null;\n    }\n\n    passwordMatchValidator(form) {\n      const password = form.get('password')?.value;\n      const confirmPassword = form.get('confirmPassword')?.value;\n      return password && confirmPassword && password === confirmPassword ? null : {\n        mismatch: true\n      };\n    }\n\n    onSubmit() {\n      if (this.userForm.invalid) {\n        this.userForm.markAllAsTouched(); // Mostrar errores\n\n        return;\n      }\n\n      if (this.userForm.valid) {\n        const user = {\n          username: this.userForm.value.email,\n          password: this.userForm.value.password,\n          role: this.userForm.value.role.toUpperCase()\n        };\n        this.registrarusuarioService.registro(user).subscribe(userResponse => {\n          const userId = userResponse.id;\n          const userName = userResponse.username;\n          const userRole = userResponse.role;\n          this.router.navigate(['/usuario']);\n          Swal.fire({\n            icon: \"success\",\n            title: \"¡Registro Exitoso!\",\n            text: \"El usuario ha sido registrado correctamente.\"\n          });\n\n          if (user.role === 'INVESTIGADOR' || user.role === 'COORDINADOR') {\n            const autor = {\n              nombre1Autor: this.userForm.value.nombre1,\n              nombre2Autor: this.userForm.value.nombre2,\n              apellidoPaternoAutor: this.userForm.value.apellidoPaterno,\n              apellidoMaternoAutor: this.userForm.value.apellidoMaterno,\n              autorUnsis: true\n            };\n\n            if (!this.validarAutor()) {\n              return;\n            }\n\n            this.registrarusuarioService.registroAutor(autor).subscribe(autorResponse => {\n              // Obtén el ID del instituto seleccionado\n              const institutoId = this.userForm.value.instituto; // Encuentra el instituto seleccionado en el array de institutos\n\n              const institutoSeleccionado = this.institutos.find(i => i.id === institutoId);\n              const investigador = {\n                num_empleado: this.userForm.value.numeroEmpleado,\n                nombre_1_investigador: this.userForm.value.nombre1,\n                nombre_2_investigador: this.userForm.value.nombre2,\n                apellido_paterno_1_investigador: this.userForm.value.apellidoPaterno,\n                apellido_materno_2_investigador: this.userForm.value.apellidoMaterno,\n                user: {\n                  id: userId,\n                  username: userName,\n                  role: userRole,\n                  enabled: true\n                },\n                instituto: {\n                  id: institutoId,\n                  nombre: institutoSeleccionado ? institutoSeleccionado.nombre : '' // Nombre del instituto seleccionado\n\n                },\n                autor: {\n                  id_autor: autorResponse.id_autor,\n                  nombre1Autor: autorResponse.nombre1Autor,\n                  nombre2Autor: autorResponse.nombre2Autor,\n                  apellidoPaternoAutor: autorResponse.apellidoPaternoAutor,\n                  apellidoMaternoAutor: autorResponse.apellidoMaternoAutor,\n                  autorUnsis: true\n                }\n              };\n              this.userForm.reset(); // Limpiar el formulario después del registro\n\n              this.registrarusuarioService.registroInvestigador(investigador).subscribe(investigadorResponse => {\n                Swal.fire({\n                  icon: \"success\",\n                  title: \"¡Investigador Registrado!\",\n                  text: \"El investigador ha sido registrado correctamente.\"\n                });\n                this.router.navigate(['/usuario']);\n              }, investigadorError => {\n                Swal.fire({\n                  icon: \"error\",\n                  title: \"Error en Registro de Investigador\",\n                  text: \"Algo salió mal al registrar el investigador.\"\n                });\n              });\n              this.userForm.reset();\n            }, autorError => {\n              Swal.fire({\n                icon: \"error\",\n                title: \"Error en Registro de Autor\",\n                text: \"Algo salió mal al registrar el autor.\"\n              });\n            });\n          }\n        }, error => {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Oops...\",\n            text: \"Algo salió mal!\"\n          });\n        });\n      }\n    }\n\n    togglePasswordVisibility() {\n      if (this.passwordFieldType === 'password') {\n        this.passwordFieldType = 'text';\n        this.passwordToggleIcon = 'fa fa-eye-slash';\n      } else {\n        this.passwordFieldType = 'password';\n        this.passwordToggleIcon = 'fa fa-eye';\n      }\n    }\n\n    updateAdditionalFields(role) {\n      const isAdditionalFieldsRequired = role === 'INVESTIGADOR' || role === 'COORDINADOR';\n\n      if (isAdditionalFieldsRequired) {\n        this.userForm.get('instituto')?.setValidators([Validators.required]);\n        this.userForm.get('nombre1')?.setValidators([Validators.required]);\n        this.userForm.get('apellidoPaterno')?.setValidators([Validators.required]);\n      } else {\n        this.userForm.get('instituto')?.clearValidators();\n        this.userForm.get('nombre1')?.clearValidators();\n        this.userForm.get('apellidoPaterno')?.clearValidators();\n      }\n\n      this.userForm.get('instituto')?.updateValueAndValidity();\n      this.userForm.get('nombre1')?.updateValueAndValidity();\n      this.userForm.get('apellidoPaterno')?.updateValueAndValidity(); // Limpiar los campos si el rol cambia\n\n      if (!isAdditionalFieldsRequired) {\n        this.userForm.patchValue({\n          numeroEmpleado: '',\n          instituto: '',\n          nombre1: '',\n          apellidoPaterno: '',\n          nombre2: '',\n          apellidoMaterno: ''\n        });\n      }\n    }\n\n    onKeyPress(event, field) {\n      const charCode = event.charCode;\n      const char = String.fromCharCode(charCode);\n\n      if (!/^[a-zA-ZáéíóúÁÉÍÓÚñÑ'´]$/.test(char)) {\n        // Prevenir la entrada del carácter no permitido.\n        event.preventDefault();\n      }\n    }\n\n    convertEmailToLowerCase() {\n      const emailControl = this.userForm.get('email');\n\n      if (emailControl) {\n        const emailValue = emailControl.value;\n        emailControl.setValue(emailValue.toLowerCase(), {\n          emitEvent: false\n        });\n      }\n    }\n\n    validarAutor() {\n      const nombre1 = this.userForm.get('nombre1')?.value;\n      const apellidoPaterno = this.userForm.get('apellidoPaterno')?.value;\n      const selectedInstituto = this.userForm.get('instituto')?.value;\n\n      if (!nombre1 || !apellidoPaterno || !selectedInstituto) {\n        this.userForm.markAllAsTouched(); // Muestra los mensajes de error en caso de que falte algún dato.\n\n        return false;\n      }\n\n      return true;\n    }\n\n    onInput(event, field) {\n      const inputElement = event.target;\n      let valor = inputElement.value; // Elimina caracteres no permitidos\n\n      valor = valor.replace(/[^a-zA-ZáéíóúÁÉÍÓÚñÑ'´]/g, ''); // Convertir a mayúscula la primera letra y el resto a minúsculas\n\n      valor = valor.charAt(0).toUpperCase() + valor.slice(1).toLowerCase(); // Asigna el valor limpio de nuevo al campo de entrada\n\n      inputElement.value = valor; // Actualiza el modelo de formulario reactivo\n\n      if (this.userForm.contains(field)) {\n        this.userForm.get(field)?.setValue(valor);\n      }\n    }\n\n    onKeyPressNumber(event) {\n      const charCode = event.charCode;\n      const char = String.fromCharCode(charCode); // Verifica si el carácter es un número (0-9)\n\n      if (!/^\\d$/.test(char)) {\n        // Prevenir la entrada de caracteres no permitidos\n        event.preventDefault();\n      }\n    }\n\n    cancel() {\n      this.router.navigate(['/usuario']);\n    }\n\n  }\n\n  CrearUsuarioComponent.ɵfac = function CrearUsuarioComponent_Factory(t) {\n    return new (t || CrearUsuarioComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.RegistrarusuarioService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  CrearUsuarioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CrearUsuarioComponent,\n    selectors: [[\"app-crear-usuario\"]],\n    decls: 47,\n    vars: 15,\n    consts: [[1, \"container\"], [1, \"text-center\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Ingrese su correo\", \"required\", \"\", 1, \"form-control\", 3, \"input\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"role\"], [\"id\", \"role\", \"formControlName\", \"role\", 1, \"form-control\"], [\"value\", \"ADMIN\"], [\"value\", \"INVESTIGADOR\"], [\"value\", \"COORDINADOR\"], [4, \"ngIf\"], [\"for\", \"password\"], [1, \"input-group\"], [\"type\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Ingrese su contrase\\u00F1a\", \"required\", \"\", 1, \"form-control\", 3, \"type\"], [\"for\", \"confirmPassword\"], [\"type\", \"password\", \"id\", \"confirmPassword\", \"formControlName\", \"confirmPassword\", \"placeholder\", \"Confirme su contrase\\u00F1a\", \"required\", \"\", 1, \"form-control\", 3, \"type\"], [1, \"input-group-append\"], [1, \"input-group-text\", \"password-toggle\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"btn-block\", 3, \"click\"], [1, \"text-danger\"], [\"for\", \"instituto\"], [\"id\", \"instituto\", \"formControlName\", \"instituto\", \"required\", \"\", 1, \"form-control\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"nombre1\"], [\"type\", \"text\", \"id\", \"nombre1\", \"formControlName\", \"nombre1\", \"placeholder\", \"Ingrese su primer nombre\", \"required\", \"\", 1, \"form-control\", 3, \"keypress\", \"input\"], [\"for\", \"nombre2\"], [\"type\", \"text\", \"id\", \"nombre2\", \"formControlName\", \"nombre2\", \"placeholder\", \"Ingrese su segundo nombre\", 1, \"form-control\", 3, \"keypress\", \"input\"], [\"for\", \"apellidoPaterno\"], [\"type\", \"text\", \"id\", \"apellidoPaterno\", \"formControlName\", \"apellidoPaterno\", \"placeholder\", \"Ingrese su apellido paterno\", \"required\", \"\", 1, \"form-control\", 3, \"keypress\", \"input\"], [\"for\", \"apellidoMaterno\"], [\"type\", \"text\", \"id\", \"apellidoMaterno\", \"formControlName\", \"apellidoMaterno\", \"placeholder\", \"Ingrese su apellido materno\", 1, \"form-control\", 3, \"keypress\", \"input\"], [3, \"value\"]],\n    template: function CrearUsuarioComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-nav\")(1, \"app-sidebar\");\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"h3\", 1);\n        i0.ɵɵtext(4, \"Registro de Usuario\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function CrearUsuarioComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(6, \"div\", 3)(7, \"label\", 4);\n        i0.ɵɵtext(8, \"Correo Electr\\u00F3nico\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 5);\n        i0.ɵɵlistener(\"input\", function CrearUsuarioComponent_Template_input_input_9_listener() {\n          return ctx.convertEmailToLowerCase();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, CrearUsuarioComponent_div_10_Template, 2, 0, \"div\", 6);\n        i0.ɵɵtemplate(11, CrearUsuarioComponent_div_11_Template, 2, 0, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 3)(13, \"label\", 7);\n        i0.ɵɵtext(14, \"Rol\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"select\", 8)(16, \"option\", 9);\n        i0.ɵɵtext(17, \"Administrador\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"option\", 10);\n        i0.ɵɵtext(19, \"Investigador\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"option\", 11);\n        i0.ɵɵtext(21, \"Director\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(22, CrearUsuarioComponent_div_22_Template, 25, 4, \"div\", 12);\n        i0.ɵɵelementStart(23, \"div\", 3)(24, \"label\", 13);\n        i0.ɵɵtext(25, \"Contrase\\u00F1a\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 14);\n        i0.ɵɵelement(27, \"input\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(28, CrearUsuarioComponent_div_28_Template, 2, 0, \"div\", 6);\n        i0.ɵɵtemplate(29, CrearUsuarioComponent_div_29_Template, 2, 0, \"div\", 6);\n        i0.ɵɵtemplate(30, CrearUsuarioComponent_div_30_Template, 2, 0, \"div\", 6);\n        i0.ɵɵtemplate(31, CrearUsuarioComponent_div_31_Template, 2, 0, \"div\", 6);\n        i0.ɵɵtemplate(32, CrearUsuarioComponent_div_32_Template, 2, 0, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 3)(34, \"label\", 16);\n        i0.ɵɵtext(35, \"Confirmar Contrase\\u00F1a\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 14);\n        i0.ɵɵelement(37, \"input\", 17);\n        i0.ɵɵelementStart(38, \"div\", 18)(39, \"span\", 19);\n        i0.ɵɵlistener(\"click\", function CrearUsuarioComponent_Template_span_click_39_listener() {\n          return ctx.togglePasswordVisibility();\n        });\n        i0.ɵɵelement(40, \"i\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(41, CrearUsuarioComponent_div_41_Template, 2, 0, \"div\", 6);\n        i0.ɵɵtemplate(42, CrearUsuarioComponent_div_42_Template, 2, 0, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"button\", 20);\n        i0.ɵɵtext(44, \"Registrar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function CrearUsuarioComponent_Template_button_click_45_listener() {\n          return ctx.cancel();\n        });\n        i0.ɵɵtext(46, \"Cancelar\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        let tmp_1_0;\n        let tmp_2_0;\n        let tmp_3_0;\n        let tmp_5_0;\n        let tmp_6_0;\n        let tmp_7_0;\n        let tmp_8_0;\n        let tmp_9_0;\n        let tmp_12_0;\n        let tmp_13_0;\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.userForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.userForm.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]) && ((tmp_1_0 = ctx.userForm.get(\"email\")) == null ? null : tmp_1_0.touched));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.userForm.get(\"email\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"email\"]) && ((tmp_2_0 = ctx.userForm.get(\"email\")) == null ? null : tmp_2_0.touched));\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.userForm.get(\"role\")) == null ? null : tmp_3_0.value) === \"INVESTIGADOR\" || ((tmp_3_0 = ctx.userForm.get(\"role\")) == null ? null : tmp_3_0.value) === \"COORDINADOR\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"type\", ctx.passwordFieldType);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx.userForm.get(\"password\")) == null ? null : tmp_5_0.errors == null ? null : tmp_5_0.errors[\"required\"]) && ((tmp_5_0 = ctx.userForm.get(\"password\")) == null ? null : tmp_5_0.touched));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.userForm.get(\"password\")) == null ? null : tmp_6_0.errors == null ? null : tmp_6_0.errors[\"minlength\"]) && ((tmp_6_0 = ctx.userForm.get(\"password\")) == null ? null : tmp_6_0.touched));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx.userForm.get(\"password\")) == null ? null : tmp_7_0.errors == null ? null : tmp_7_0.errors[\"uppercase\"]) && ((tmp_7_0 = ctx.userForm.get(\"password\")) == null ? null : tmp_7_0.touched));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_8_0 = ctx.userForm.get(\"password\")) == null ? null : tmp_8_0.errors == null ? null : tmp_8_0.errors[\"number\"]) && ((tmp_8_0 = ctx.userForm.get(\"password\")) == null ? null : tmp_8_0.touched));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.userForm.get(\"password\")) == null ? null : tmp_9_0.errors == null ? null : tmp_9_0.errors[\"special\"]) && ((tmp_9_0 = ctx.userForm.get(\"password\")) == null ? null : tmp_9_0.touched));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"type\", ctx.passwordFieldType);\n        i0.ɵɵadvance(3);\n        i0.ɵɵclassMap(ctx.passwordToggleIcon);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_12_0 = ctx.userForm.get(\"confirmPassword\")) == null ? null : tmp_12_0.errors == null ? null : tmp_12_0.errors[\"required\"]) && ((tmp_12_0 = ctx.userForm.get(\"confirmPassword\")) == null ? null : tmp_12_0.touched));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.userForm.errors == null ? null : ctx.userForm.errors[\"mismatch\"]) && ((tmp_13_0 = ctx.userForm.get(\"confirmPassword\")) == null ? null : tmp_13_0.touched));\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName, i5.NavComponent, i6.SidebarComponent],\n    styles: [\"body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f8f9fa;margin:0;padding:0;height:100vh;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{margin:50px auto;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;max-width:500px}.registration-form[_ngcontent-%COMP%]{width:100%;padding:20px;background-color:#fff;box-shadow:0 0 10px #0000001a}.registration-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;font-size:1.4rem}.registration-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.registration-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:.9rem}.registration-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:5px;padding:10px;font-size:14px;width:100%}.registration-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 5px #007bff80}.registration-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;border-radius:5px;font-size:16px;width:100%}.registration-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#004085}.registration-form[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.input-group-append[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.password-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.btn-block[_ngcontent-%COMP%]{margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{margin-right:10px}\"]\n  });\n  return CrearUsuarioComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}